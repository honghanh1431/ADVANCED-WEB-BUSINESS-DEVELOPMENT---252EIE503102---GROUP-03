<main class="blog-page">
  <!-- Background layer -->
  <div class="background-overlay"></div>
  <img src="assets/images/nen.png" alt="Decor" class="top-overlay" />

  <!-- Breadcrumb -->
  <section class="breadcrumb-banner">
    <h1 class="breadcrumb-title">Tất cả bài viết</h1>
    <p class="breadcrumb-path">Trang chủ / Diễn đàn</p>
  </section>

  <!-- Blog List Container -->
  <section class="blog-list-section">
    <div class="container">
      <div class="promo-container">
        <a
          *ngFor="let blog of displayedBlogs"
          [routerLink]="['/blog', blog.id]"
          class="promo-card"
        >
          <img
            [src]="blog.thumbnailImage || blog.image || blog.images?.[0]"
            [alt]="blog.title"
            class="promo-img"
          />
          <div class="promo-content">
            <p class="promo-date">
              <img
                src="assets/icons/Vector (1).png"
                alt="icon"
                width="12"
                height="12"
              />
              {{ formatDate(blog.date) }}
            </p>
            <hr class="divider" />
            <h3 class="promo-title">{{ blog.heading }}</h3>
          </div>
        </a>
      </div>

      <!-- Pagination: luôn hiện, đủ 1 trang thì hiện số 1, mũi tên disable khi không chuyển được -->
      <nav class="pagination-wrap">
        <button
          type="button"
          class="pagination-btn"
          (click)="prevPage()"
          [disabled]="currentPage <= 1"
          [attr.aria-disabled]="currentPage <= 1"
          aria-label="Trang trước"
        >
          ‹
        </button>
        <button
          *ngFor="let p of pageNumbers"
          type="button"
          class="pagination-num"
          [class.active]="p === currentPage"
          (click)="goToPage(p)"
        >
          {{ p }}
        </button>
        <span class="pagination-ellipsis" *ngIf="totalPages > 5">...</span>
        <button
          type="button"
          class="pagination-btn"
          (click)="nextPage()"
          [disabled]="currentPage >= totalPages"
          [attr.aria-disabled]="currentPage >= totalPages"
          aria-label="Trang sau"
        >
          ›
        </button>
      </nav>
    </div>
  </section>
</main>